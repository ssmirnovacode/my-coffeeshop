(this["webpackJsonpmy-coffeeshop"]=this["webpackJsonpmy-coffeeshop"]||[]).push([[0],{59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(32),s=c.n(r),i=(c(59),c(60),c(45)),o=c(46),d=c(33),l=c(54),j=c(53),b=(c(61),c(7)),u="/my-coffeeshop",m=c(22),O=c.n(m),f=c(2),h=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).toggleMenu=function(){a.setState((function(e){return{isDropdownVisible:!e.isDropdownVisible}}))},a.toggleMenu=a.toggleMenu.bind(Object(d.a)(a)),a.state={isDropdownVisible:!1},a}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("nav",{children:[Object(f.jsx)("div",{className:"nav_burger",onClick:this.toggleMenu,children:"\u2261"}),Object(f.jsxs)("ul",{className:"nav_menu",children:[Object(f.jsx)("li",{children:Object(f.jsx)(b.b,{to:"".concat(u,"/"),children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})})}),Object(f.jsx)("li",{onClick:function(){return O()(500)},children:"OUR BEVERAGES"}),Object(f.jsx)("li",{onClick:function(){return O()(1e3)},children:"CHOOSE YOUR DRINK"}),Object(f.jsx)("li",{onClick:function(){return O()(1900)},children:"GIFTSET"}),Object(f.jsx)("li",{onClick:function(){return O()(2600)},children:"OUR PASTRY"})]}),Object(f.jsxs)("ul",{className:this.state.isDropdownVisible?"nav_menu_sidebar active":"nav_menu_sidebar",children:[Object(f.jsx)("li",{children:Object(f.jsx)(b.b,{to:"".concat(u,"/"),onClick:this.toggleMenu,children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})})}),Object(f.jsx)("li",{onClick:function(){O()(500),e.toggleMenu()},children:"OUR BEVERAGES"}),Object(f.jsx)("li",{onClick:function(){O()(1500),e.toggleMenu()},children:"CHOOSE YOUR DRINK"}),Object(f.jsx)("li",{onClick:function(){O()(2800),e.toggleMenu()},children:"GIFTSET"}),Object(f.jsx)("li",{onClick:function(){O()(3500),e.toggleMenu()},children:"OUR PASTRY"})]})]})}}]),c}(a.Component),x=c.p+"static/media/shopping-cart-solid.f0d47d21.svg",g=c(14),p=c(12),v=Object(p.e)(Object(g.b)((function(e){return{cart:e.cart}}))((function(e){var t=0;e.cart.forEach((function(e){t+=e.price*e.qty}));var c="/my-coffeeshop/cart"!==e.location.pathname&&"/my-coffeeshop/order"!==e.location.pathname&&"/my-coffeeshop/thank-you"!==e.location.pathname&&"/my-coffeeshop/combos"!==e.location.pathname.substring(0,21)&&"/my-coffeeshop/giftset"!==e.location.pathname.substring(0,22)&&"/my-coffeeshop/menuItems"!==e.location.pathname.substring(0,24)?Object(f.jsx)(h,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.b,{className:"homelink",to:"".concat(u,"/"),children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})}),Object(f.jsxs)(b.b,{className:"homeicon",to:"".concat(u,"/"),children:[Object(f.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," "]})]}),a="/my-coffeeshop/cart"!==e.location.pathname&&"/my-coffeeshop/order"!==e.location.pathname&&"/my-coffeeshop/thank-you"!==e.location.pathname?Object(f.jsx)("div",{className:"cart",children:Object(f.jsxs)(b.b,{to:"".concat(u,"/cart"),children:[Object(f.jsx)("img",{className:"cart_image",src:x,alt:"cart"}),Object(f.jsxs)("div",{className:"cart__total",children:["Total: ",t," $"]})]})}):null;return Object(f.jsxs)("header",{className:"home_container",id:"home",children:[Object(f.jsx)("div",{className:"left block",children:Object(f.jsxs)("div",{className:"moto",children:["YOUR ",Object(f.jsx)("span",{children:"PERSONALIZED"})," COFFEE"]})}),Object(f.jsx)("div",{className:"home-image"}),Object(f.jsxs)("div",{className:"right block",children:[a,Object(f.jsx)("div",{className:"navigation",children:c}),Object(f.jsx)("div",{className:"up",onClick:function(){return O()(document.querySelector("#home"))},children:" \u2191 "})]})]})}))),_=(c(71),c(72),function(e){var t=e.item,c=t.title,a=t.image,n=t.text;return Object(f.jsxs)("div",{className:"beverage-item_container",children:[Object(f.jsx)("div",{className:"beverage-item beverage-item_img",children:Object(f.jsx)("img",{src:a,alt:c})}),Object(f.jsx)("div",{className:"beverage-item beverage-item_title",children:c}),Object(f.jsx)("div",{className:"beverage-item beverage-item_text",children:n})]})}),E=(c(73),function(e){var t=e.small,c=e.big;e.id;return Object(f.jsxs)("div",{className:"heading",children:[Object(f.jsx)("div",{className:"heading_small",children:t}),Object(f.jsx)("div",{className:"heading_big",children:c})]})}),N=(c(74),function(){return Object(f.jsx)("div",{className:"loader",children:"Loading..."})}),y=(c(75),function(){return Object(f.jsx)("div",{className:"error"})}),T=c(38);c(78);T.a.initializeApp({apiKey:"AIzaSyCJSRQNFupRHzt95G2R-XRAp-Twf4FZMuA",authDomain:"my-coffeeshop-5db03.firebaseapp.com",databaseURL:"https://my-coffeeshop-5db03-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-coffeeshop-5db03",storageBucket:"my-coffeeshop-5db03.appspot.com",messagingSenderId:"427853098002",appId:"1:427853098002:web:0b29111f14312eebb7bccb"});var R=T.a.firestore(),C=(T.a,c(4)),I=function(e){var t=[];return e.forEach((function(e){t.push(Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id}))})),t},S={beveragesLoaded:function(e){return{type:"BEVERAGES_LOADED",payload:e}},beveragesRequested:function(){return{type:"BEVERAGES_REQUESTED"}},beveragesError:function(){return{type:"BEVERAGES_ERROR"}}},D=Object(g.b)((function(e){return{beverages:e.beverages}}),S)((function(e){var t=e.beverages,c=e.loading,n=e.error,r=e.beveragesError,s=e.beveragesLoaded,i=e.beveragesRequested;return Object(a.useEffect)((function(){var e=!0;return i(),e&&R.collection("beverages").get().then((function(e){I(e).length>0?s(I(e)):r()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[i,r,s]),Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Your Personalized Coffee",big:"COFFEE BUILD YOUR BASE",id:"beverages"}),c?Object(f.jsx)(N,{}):n?Object(f.jsx)(y,{}):Object(f.jsx)("div",{className:"beverages_container",children:t.items.map((function(e){return Object(f.jsx)(_,{item:e},e.id)}))})]})})),A=c(20),k=(c(79),c(80),function(e){var t=e.item,c=e.addToCart,n=Object(a.useState)("addToCart"),r=Object(A.a)(n,2),s=r[0],i=r[1];Object(a.useEffect)((function(){var e=setTimeout((function(){return i("addToCart")}),2e3);return function(){return clearInterval(e)}}),[s]);var o=t.image,d=t.price,l=t.title,j=t.content,m=t.id;return Object(f.jsxs)("div",{className:"menu-item_container",children:[Object(f.jsx)("div",{className:"menu-item_img",children:Object(f.jsx)(b.b,{to:"".concat(u,"/menuItems/").concat(m),children:Object(f.jsx)("img",{src:o,alt:l})})}),Object(f.jsxs)("div",{className:"menu-item_price",children:[d," $"]}),Object(f.jsx)("div",{className:"menu-item_title",children:l}),Object(f.jsx)("div",{className:"menu-item_content",children:j}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"menu-item_btns",children:["addToCart"===s?Object(f.jsx)("button",{className:"menu-item_btn","data-id":m,onClick:function(e){c(),i("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"menu-item_msg-btn-box",children:[Object(f.jsx)("button",{className:"menu-item_btn_viewcart","data-id":m,children:Object(f.jsx)(b.b,{to:"".concat(u,"/cart"),children:"VIEW CART"})}),"addToCart"===s?null:Object(f.jsx)("div",{className:"menu-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"menu-item_details",children:Object(f.jsx)(b.b,{to:"".concat(u,"/menuItems/").concat(m),children:"Details"})}),Object(f.jsx)("br",{})]})]})}),M=function(e){return{type:"ADD_TO_CART",payload:e}},L={menuItemsLoaded:function(e){return{type:"MENU_ITEMS_LOADED",payload:e}},addToCart:M,menuItemsError:function(){return{type:"MENU_ITEMS_ERROR"}},menuItemsRequested:function(){return{type:"MENU_ITEMS_REQUESTED"}}},F=Object(g.b)((function(e){return{menuItems:e.menuItems}}),L)((function(e){var t=e.menuItems,c=e.menuItemsError,n=e.menuItemsLoaded,r=e.menuItemsRequested,s=e.addToCart,i=Object(a.useState)(!0),o=Object(A.a)(i,2),d=o[0],l=o[1];Object(a.useEffect)((function(){var e=!0;return r(),e&&R.collection("menuItems").get().then((function(e){I(e).length>0?n(I(e).filter((function(e,t){return t<4}))):c()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[r,c,n]);var j=t.items,b=t.loading,u=t.error;return Object(f.jsxs)("section",{className:"menu",children:[Object(f.jsx)(E,{small:"Choose Your Drink",big:"ORDER ONLINE AND SKIP THE LINE",id:"menu"}),b?Object(f.jsx)(N,{}):u?Object(f.jsx)(y,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"menu_container",children:[Object(f.jsx)("div",{className:"bg-menu"}),j.map((function(e,t){return Object(f.jsx)(k,{item:e,addToCart:function(){return s(e)}},t)}))]}),d?Object(f.jsx)("div",{className:"menu_more",onClick:function(){R.collection("menuItems").get().then((function(e){I(e).length>4&&(n(I(e)),l(!1))})).catch((function(e){return console.error(e.message)}))},children:"VIEW MORE"}):null]})]})})),q=(c(81),c(82),function(e){var t=e.item,c=e.addToCart,n=t.title,r=t.image,s=t.price,i=t.content,o=t.id,d=Object(a.useState)("addToCart"),l=Object(A.a)(d,2),j=l[0],m=l[1];Object(a.useEffect)((function(){var e=setTimeout((function(){return m("addToCart")}),2e3);return function(){return clearInterval(e)}}),[j]);return Object(f.jsxs)("div",{className:"giftset_item",children:[Object(f.jsx)("div",{className:"giftset_img",children:Object(f.jsx)(b.b,{to:"".concat(u,"/giftset/").concat(o),children:Object(f.jsx)("img",{src:r,alt:n})})}),Object(f.jsxs)("div",{className:"giftset_content",children:[Object(f.jsxs)("div",{className:"giftset_price",children:[s," $"]}),Object(f.jsx)("div",{className:"giftset_title",children:n}),Object(f.jsx)("div",{className:"giftset_text",children:i}),"addToCart"===j?Object(f.jsx)("button",{className:"giftset_btn","data-id":o,onClick:function(e){c(),m("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"giftset-item_msg-btn-box",children:[Object(f.jsx)(b.b,{to:"".concat(u,"/cart"),className:"giftset_btn_viewcart","data-id":o,children:"VIEW CART"}),"addToCart"===j?null:Object(f.jsx)("div",{className:"giftset-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"giftset_details",children:Object(f.jsx)(b.b,{to:"".concat(u,"/giftset/").concat(o),children:"Details"})}),Object(f.jsx)("br",{})]})]})}),U={giftsetLoaded:function(e){return{type:"GIFTSET_LOADED",payload:e}},giftsetTabClick:function(e){return{type:"GIFTSET_TAB_CLICK",payload:e}},addToCart:M,giftsetError:function(){return{type:"GIFTSET_ERROR"}},giftsetRequested:function(){return{type:"GIFTSET_REQUESTED"}}},B=Object(g.b)((function(e){return{giftset:e.giftset}}),U)((function(e){var t=e.giftset,c=e.giftsetError,n=e.giftsetLoaded,r=e.giftsetRequested,s=e.addToCart,i=e.giftsetTabClick;Object(a.useEffect)((function(){var e=!0;return r(),e&&R.collection("giftset").get().then((function(e){I(e).length>0?n(I(e)):c()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[r,n,c]);var o=t.items,d=t.loading,l=t.error,j=t.activeItemId;return Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Best Gift For Best Friend",big:"GIFTSET",id:"giftset"}),d?Object(f.jsx)(N,{}):l?Object(f.jsx)(y,{}):Object(f.jsxs)("div",{className:"giftset_container",children:[Object(f.jsx)("div",{className:"bg-giftset"}),o.map((function(e){return e.id===j?Object(f.jsx)(q,{item:e,addToCart:function(){return s(e)}},e.id):null})),Object(f.jsx)("div",{className:"giftset_tabs",children:o.map((function(e,t){return Object(f.jsx)("div",{className:j===e.id?"giftset_tabs_item active":"giftset_tabs_item",onClick:function(t){i(e.id)},children:t+1},e.id)}))})]})]})})),w=(c(83),c(84),function(e){var t=e.item,c=e.addToCart,n=t.title,r=t.image,s=t.price,i=t.content,o=t.id,d=Object(a.useState)("addToCart"),l=Object(A.a)(d,2),j=l[0],m=l[1];Object(a.useEffect)((function(){var e=setTimeout((function(){return m("addToCart")}),2e3);return function(){return clearInterval(e)}}),[j]);return Object(f.jsxs)("div",{className:"combo-item_container",children:[Object(f.jsx)("div",{className:"combo-item_img",children:Object(f.jsx)(b.b,{to:"".concat(u,"/combos/").concat(o),children:Object(f.jsx)("img",{src:r,alt:n})})}),Object(f.jsx)("div",{className:"combo-item_title",children:n}),Object(f.jsxs)("div",{className:"combo-item_price",children:[s," $",Object(f.jsx)("span",{children:"6.00 $"})]}),Object(f.jsx)("div",{className:"combo-item_content",children:i}),"addToCart"===j?Object(f.jsx)("button",{className:"combo-item_btn","data-id":o,onClick:function(e){c(),m("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"combo-item_msg-btn-box",children:[Object(f.jsx)(b.b,{to:"".concat(u,"/cart"),className:"combo-item_btn_viewcart","data-id":o,children:"VIEW CART"}),"addToCart"===j?null:Object(f.jsx)("div",{className:"combo-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"combo-item_details",children:Object(f.jsx)(b.b,{to:"".concat(u,"/combos/").concat(o),children:"Details"})}),Object(f.jsx)("br",{})]})}),G={combosLoaded:function(e){return{type:"COMBOS_LOADED",payload:e}},combosError:function(){return{type:"COMBOS_ERROR"}},combosRequested:function(){return{type:"COMBOS_REQUESTED"}},addToCart:M},Q=Object(g.b)((function(e){return{combos:e.combos}}),G)((function(e){var t=e.combos,c=e.combosLoaded,n=e.combosRequested,r=e.combosError,s=e.addToCart;Object(a.useEffect)((function(){var e=!0;return n(),e&&R.collection("combos").get().then((function(e){I(e).length>0?c(I(e)):r()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[r,c,n]);var i=t.items,o=t.loading,d=t.error;return Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Our artesan pastry",big:"ORGANIC INGREDIENTS ONLY",id:"combo"}),o?Object(f.jsx)(N,{}):d?Object(f.jsx)(y,{}):Object(f.jsxs)("div",{className:"combo_container",children:[Object(f.jsx)("div",{className:"bg-combo"}),i.map((function(e){return Object(f.jsx)(w,{item:e,addToCart:function(){return s(e)}},e.id)}))]})]})})),Y=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D,{}),Object(f.jsx)(F,{}),Object(f.jsx)(B,{}),Object(f.jsx)(Q,{})]})},V=(c(85),function(){return Object(f.jsxs)("footer",{className:"footer_container",children:[Object(f.jsxs)("address",{children:[Object(f.jsx)("div",{className:"footer_title",children:"My coffeeshop"}),"Avda Europa, 15,",Object(f.jsx)("br",{}),"43400, Barcelona",Object(f.jsx)("br",{}),"SPAIN"]}),Object(f.jsxs)("div",{className:"footer_contact",children:[Object(f.jsx)("span",{children:"Contact us:"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"mailto:contact@mycoffeeshop.com",children:"contact@mycoffeeshop.com"}),Object(f.jsx)("br",{}),Object(f.jsx)("span",{children:"Tel:"})," +34 111 222 333"]}),Object(f.jsxs)("div",{className:"footer_social",children:[Object(f.jsx)("div",{className:"footer_social_title",children:"Find us on social media:"}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"footer_social_icons",children:[Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-facebook-square"})}),Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-linkedin-square"})}),Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-github-square"})})]})]})]})}),P=(c(86),{detailsLoaded:function(e){return{type:"DETAILS_LOADED",payload:e}},detailsError:function(){return{type:"DETAILS_ERROR"}},detailsRequested:function(){return{type:"DETAILS_REQUESTED"}},addToCart:M}),$=Object(g.b)((function(e){return{details:e.details}}),P)((function(e){var t=e.itemId,c=e.page,n=e.details,r=e.detailsError,s=e.detailsLoaded,i=e.detailsRequested,o=Object(a.useState)("addToCart"),d=Object(A.a)(o,2),l=d[0],j=d[1];Object(a.useEffect)((function(){var e=!0;return i(),e&&R.collection(c).doc(t).get().then((function(e){e.data()?s(Object(C.a)(Object(C.a)({},e.data()),{},{id:t})):r()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[t,c,r,s,i]);return Object(a.useEffect)((function(){var e=setTimeout((function(){return j("addToCart")}),2e3);return function(){return clearInterval(e)}}),[l]),Object(f.jsx)("div",{className:"item-detail_container",children:n.loading?Object(f.jsx)(N,{}):n.error?Object(f.jsx)(y,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"item-detail_img",children:Object(f.jsx)("img",{src:n.item.image,alt:n.item.title})}),Object(f.jsxs)("div",{className:"item-detail_content",children:[Object(f.jsx)("div",{className:"item-detail_title",children:n.item.title}),Object(f.jsxs)("div",{className:"item-detail_price",children:[n.item.price," $"]}),Object(f.jsx)("div",{className:"item-detail_text",children:n.item.content})]}),"addToCart"===l?Object(f.jsx)("button",{className:"item-detail_btn","data-id":t,onClick:function(t){e.addToCart(n.item),j("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"item-detail_msg-btn-box",children:[Object(f.jsx)(b.b,{to:"".concat(u,"/cart"),className:"item-detail_btn_viewcart","data-id":t,children:"VIEW CART"}),"addToCart"===l?null:Object(f.jsx)("div",{className:"item-detail_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)(b.b,{to:"".concat(u,"/"),className:"item-detail_back",children:"Back"}),Object(f.jsx)("br",{})]})})})),H=(c(87),{deleteFromCart:function(e){return{type:"DELETE_FROM_CART",payload:e}},plusQty:function(e){return{type:"PLUS_QTY",payload:e}},minusQty:function(e){return{type:"MINUS_QTY",payload:e}}}),W=Object(g.b)((function(e){return{cart:e.cart}}),H)((function(e){var t=0;e.cart.forEach((function(e){t+=e.price*e.qty}));var c=0!==t?Object(f.jsx)(b.b,{className:"cart_btn",to:"".concat(u,"/order"),children:"ORDER ONLINE"}):null;return Object(f.jsxs)("div",{className:"cart_container",children:[Object(f.jsx)("div",{className:"cart_title",children:"Items in your cart:"}),Object(f.jsx)("div",{className:"cart_list",children:e.cart.map((function(t){return Object(f.jsxs)("div",{className:"cart_item",children:[Object(f.jsx)("div",{className:"cart_item_title",children:t.title}),Object(f.jsxs)("div",{className:"cart_item_price",children:["Price: ",t.price," $"]}),Object(f.jsx)("div",{onClick:function(){return e.deleteFromCart(t.id)},className:"cart_item_delete",children:Object(f.jsx)("i",{className:"fa fa-trash-o"})}),Object(f.jsx)("div",{className:"cart_item_img",children:Object(f.jsx)("img",{src:t.image,alt:t.title})}),Object(f.jsxs)("div",{className:"cart_item_qty",children:[Object(f.jsx)("div",{children:"Quantity: "}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"minus",onClick:function(){return e.minusQty(t.id)},children:"  -  "}),Object(f.jsx)("div",{className:"cart_item_qty_number",children:t.qty}),Object(f.jsx)("button",{className:"plus",onClick:function(){return e.plusQty(t.id)},children:" + "})]})]},t.id)}))}),Object(f.jsxs)("div",{className:"cart_total",children:["Total: ",t," $"]}),c,Object(f.jsx)("div",{className:"cart_continue",children:Object(f.jsx)(b.b,{to:"".concat(u,"/"),children:"Continue shopping"})})]})})),K=(c(88),c(52)),z=function(e){var t={};return e.firstname.length>0&&!/^[A-Za-z]+$/gi.test(e.firstname)&&(t.firstname="Name can only contain letters"),e.tel.length>0&&!/([+]\d{1,2}[.-\s]?)?(\d{3}[.-]?){2}\d{3}/i.test(e.tel)&&(t.tel="Invalid phone number: must contain at least 9 digits"),t},J={clearCart:function(){return{type:"CLEAR_CART"}},orderSubmitted:function(e){return{type:"ORDER_SUBMITTED",payload:e}},orderError:function(){return{type:"ORDER_ERROR"}}},Z=Object(g.b)((function(e){return{cart:e.cart,order:e.order}}),J)((function(e){var t=Object(a.useState)(!1),c=Object(A.a)(t,2),n=c[0],r=c[1],s=Object(K.a)({initialValues:{firstname:"",tel:""},validate:z,onSubmit:function(t,c){var a=c.resetForm;e.cart.length>0?(t.items=e.cart.map((function(e){return{id:e.id,title:e.title,qty:e.qty}})),t.id=Math.random().toString(36).substr(2,9),R.collection("orders").doc().set(t),console.log(t),e.orderSubmitted(t),a(),e.clearCart(),e.history.push("".concat(u,"/thank-you"))):(r(!0),setTimeout((function(){return r(!1)}),1500))}});return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(W,{}),Object(f.jsxs)("div",{className:"order_container",children:[Object(f.jsx)("div",{className:"order_title",children:"Please fill in your data"}),Object(f.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(f.jsxs)("div",{className:"order_form-field",children:[Object(f.jsxs)("label",{children:["Name:",Object(f.jsx)("input",{required:!0,type:"text",id:"firstname",name:"firstname",placeholder:"Your Name",onChange:s.handleChange,value:s.values.firstname})]}),s.errors.firstname?Object(f.jsx)("div",{className:"errMess",children:s.errors.firstname}):null]}),Object(f.jsxs)("div",{className:"order_form-field",children:[Object(f.jsxs)("label",{children:["Phone:",Object(f.jsx)("input",{required:!0,type:"text",id:"tel",name:"tel",placeholder:"Your phone number",onChange:s.handleChange,value:s.values.tel})]}),s.errors.tel?Object(f.jsx)("div",{className:"errMess",children:s.errors.tel}):null]}),Object(f.jsx)("p",{className:"order_instructions",children:"When your order is ready we will send you an SMS notification so you can pick up your order in our shop. No need to wait in the queue! Go straight to the register, pay for your order and pick it up."}),Object(f.jsx)("button",{className:"order_btn",type:"submit",children:"ORDER NOW"})]}),Object(f.jsx)("div",{className:"order_back",children:Object(f.jsx)(b.b,{to:"".concat(u,"/"),children:"Back to the store"})}),n?Object(f.jsx)("div",{className:"fail",children:"Cart is empty"}):null]})]})})),X=(c(89),Object(g.b)((function(e){return{order:e.order}}))((function(e){var t=e.order.firstname,c=setTimeout((function(){e.history.push("".concat(u,"/")),clearInterval(c)}),1e4);return Object(f.jsxs)("div",{className:"thank-you_container",children:[Object(f.jsxs)("div",{className:"thank-you_title",children:["Thank you for your order, ",Object(f.jsx)("span",{children:t}),"!"]}),Object(f.jsxs)("p",{className:"thank-you_text",children:["Your order # ",Object(f.jsx)("span",{children:e.order.id})," has been submitted successfully. When it\xb4s ready to be picked up, we will notify you by SMS. Remember, you can skip the line and go straight to the register to pay and pick up your coffee."]}),Object(f.jsx)(b.b,{className:"thank-you_back",to:"".concat(u,"/"),children:"Back to the store"})]})}))),ee=(c(90),function(){return Object(f.jsx)(b.a,{children:Object(f.jsxs)("div",{className:"app_container",children:[Object(f.jsxs)("div",{className:"app_content",children:[Object(f.jsx)(v,{}),Object(f.jsx)(p.a,{path:"".concat(u,"/"),exact:!0,component:Y}),Object(f.jsx)(p.a,{path:"".concat(u,"/cart"),component:W}),Object(f.jsx)(p.a,{path:"".concat(u,"/combos/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)($,{page:"combos",itemId:t})}}),Object(f.jsx)(p.a,{path:"".concat(u,"/menuItems/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)($,{page:"menuItems",itemId:t})}}),Object(f.jsx)(p.a,{path:"".concat(u,"/giftset/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)($,{page:"giftset",itemId:t})}}),Object(f.jsx)(p.a,{path:"".concat(u,"/order"),component:Z}),Object(f.jsx)(p.a,{path:"".concat(u,"/thank-you"),component:X})]}),Object(f.jsx)(V,{})]})})}),te=c(34),ce=c(29),ae={beverages:{items:[],loading:!0,error:!1},combos:{items:[],loading:!0,error:!1},menuItems:{items:[],loading:!0,error:!1},giftset:{items:[],loading:!0,error:!1,activeItemId:"qxevR5yI0BPpyOH2Q5D7"},details:{item:null,loading:!0,error:!1},cart:[],order:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEVERAGES_LOADED":return Object(C.a)(Object(C.a)({},e),{},{beverages:{items:t.payload,loading:!1,error:!1}});case"BEVERAGES_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{beverages:Object(C.a)(Object(C.a)({},e.beverages),{},{loading:!0,error:!1})});case"BEVERAGES_ERROR":return Object(C.a)(Object(C.a)({},e),{},{beverages:Object(C.a)(Object(C.a)({},e.beverages),{},{loading:!1,error:!0})});case"MENU_ITEMS_LOADED":return Object(C.a)(Object(C.a)({},e),{},{menuItems:{items:t.payload,loading:!1,error:!1}});case"MENU_ITEMS_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{menuItems:Object(C.a)(Object(C.a)({},e.menuItems),{},{loading:!0,error:!1})});case"MENU_ITEMS_ERROR":return Object(C.a)(Object(C.a)({},e),{},{menuItems:Object(C.a)(Object(C.a)({},e.menuItems),{},{loading:!1,error:!0})});case"DETAILS_LOADED":return Object(C.a)(Object(C.a)({},e),{},{details:{item:t.payload,loading:!1,error:!1}});case"DETAILS_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{details:Object(C.a)(Object(C.a)({},e.details),{},{loading:!0,error:!1})});case"DETAILS_ERROR":return Object(C.a)(Object(C.a)({},e),{},{details:Object(C.a)(Object(C.a)({},e.details),{},{loading:!1,error:!0})});case"GIFTSET_LOADED":return Object(C.a)(Object(C.a)({},e),{},{giftset:Object(C.a)(Object(C.a)({},e.giftset),{},{items:t.payload,loading:!1,error:!1})});case"GIFTSET_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{giftset:Object(C.a)(Object(C.a)({},e.giftset),{},{loading:!0,error:!1})});case"GIFTSET_ERROR":return Object(C.a)(Object(C.a)({},e),{},{giftset:Object(C.a)(Object(C.a)({},e.giftset),{},{loading:!1,error:!0})});case"GIFTSET_TAB_CLICK":return Object(C.a)(Object(C.a)({},e),{},{giftset:Object(C.a)(Object(C.a)({},e.giftset),{},{activeItemId:t.payload})});case"COMBOS_LOADED":return Object(C.a)(Object(C.a)({},e),{},{combos:{items:t.payload,loading:!1,error:!1}});case"COMBOS_REQUESTED":return Object(C.a)(Object(C.a)({},e),{},{combos:{items:t.payload,loading:!0,error:!1}});case"COMBOS_ERROR":return Object(C.a)(Object(C.a)({},e),{},{combos:{items:t.payload,loading:!1,error:!0}});case"ADD_TO_CART":var c=t.payload;if(c.qty=1,e.cart.filter((function(e){return e.id===c.id}))[0]){var a=e.cart.findIndex((function(e){return e.id===c.id})),n=e.cart[a];return n.qty++,Object(C.a)(Object(C.a)({},e),{},{cart:[].concat(Object(ce.a)(e.cart.slice(0,a)),[n],Object(ce.a)(e.cart.slice(a+1)))})}return Object(C.a)(Object(C.a)({},e),{},{cart:[].concat(Object(ce.a)(e.cart),[c])});case"PLUS_QTY":return Object(C.a)(Object(C.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload?Object(C.a)(Object(C.a)({},e),{},{qty:e.qty+1}):e}))});case"MINUS_QTY":return Object(C.a)(Object(C.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload?Object(C.a)(Object(C.a)({},e),{},{qty:1!==e.qty?e.qty-1:1}):e}))});case"DELETE_FROM_CART":var r=t.payload,s=e.cart.findIndex((function(e){return e.id===r}));return Object(C.a)(Object(C.a)({},e),{},{cart:[].concat(Object(ce.a)(e.cart.slice(0,s)),Object(ce.a)(e.cart.slice(s+1)))});case"CLEAR_CART":return Object(C.a)(Object(C.a)({},e),{},{cart:[]});case"ORDER_SUBMITTED":return Object(C.a)(Object(C.a)({},e),{},{order:t.payload});case"ORDER_ERROR":return Object(C.a)(Object(C.a)({},e),{},{error:!0});default:return e}},re=Object(te.b)(ne);s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(g.a,{store:re,children:Object(f.jsx)(ee,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.ac1fea8f.chunk.js.map