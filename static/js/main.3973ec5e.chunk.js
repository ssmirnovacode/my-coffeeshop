(this["webpackJsonpmy-coffeeshop"]=this["webpackJsonpmy-coffeeshop"]||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(24),s=c.n(a),i=(c(48),c(49),c(35)),o=c(36),d=c(25),l=c(43),u=c(42),j=(c(50),c(2)),b="/my-coffeeshop",m=c(14),O=c.n(m),f=c(0),h=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).toggleMenu=function(){n.setState((function(e){return{isDropdownVisible:!e.isDropdownVisible}}))},n.toggleMenu=n.toggleMenu.bind(Object(d.a)(n)),n.state={isDropdownVisible:!1},n}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("nav",{children:[Object(f.jsx)("div",{className:"nav_burger",onClick:this.toggleMenu,children:"\u2261"}),Object(f.jsxs)("ul",{className:"nav_menu",children:[Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{to:"".concat(b,"/"),children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})})}),Object(f.jsx)("li",{onClick:function(){return O()(500)},children:"OUR BEVERAGES"}),Object(f.jsx)("li",{onClick:function(){return O()(1e3)},children:"CHOOSE YOUR DRINK"}),Object(f.jsx)("li",{onClick:function(){return O()(1900)},children:"GIFTSET"}),Object(f.jsx)("li",{onClick:function(){return O()(2600)},children:"OUR PASTRY"})]}),Object(f.jsxs)("ul",{className:this.state.isDropdownVisible?"nav_menu_sidebar active":"nav_menu_sidebar",children:[Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{to:"".concat(b,"/"),onClick:this.toggleMenu,children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})})}),Object(f.jsx)("li",{onClick:function(){O()(500),e.toggleMenu()},children:"OUR BEVERAGES"}),Object(f.jsx)("li",{onClick:function(){O()(1500),e.toggleMenu()},children:"CHOOSE YOUR DRINK"}),Object(f.jsx)("li",{onClick:function(){O()(2800),e.toggleMenu()},children:"GIFTSET"}),Object(f.jsx)("li",{onClick:function(){O()(3500),e.toggleMenu()},children:"OUR PASTRY"})]})]})}}]),c}(n.Component),x=c.p+"static/media/shopping-cart-solid.f0d47d21.svg",v=c(7),g=c(5),p=Object(g.e)(Object(v.b)((function(e){return{cart:e.cart}}))((function(e){var t=0;e.cart.forEach((function(e){t+=e.price*e.qty}));var c="/my-coffeeshop/cart"!==e.location.pathname&&"/my-coffeeshop/order"!==e.location.pathname&&"/my-coffeeshop/thank-you"!==e.location.pathname&&"/my-coffeeshop/combos"!==e.location.pathname.substring(0,21)&&"/my-coffeeshop/giftset"!==e.location.pathname.substring(0,22)&&"/my-coffeeshop/menuItems"!==e.location.pathname.substring(0,24)?Object(f.jsx)(h,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.b,{className:"homelink",to:"".concat(b,"/"),children:Object(f.jsx)("span",{children:"MY COFFEESHOP"})}),Object(f.jsxs)(j.b,{className:"homeicon",to:"".concat(b,"/"),children:[Object(f.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," "]})]}),n="/my-coffeeshop/cart"!==e.location.pathname&&"/my-coffeeshop/order"!==e.location.pathname&&"/my-coffeeshop/thank-you"!==e.location.pathname?Object(f.jsx)("div",{className:"cart",children:Object(f.jsxs)(j.b,{to:"".concat(b,"/cart"),children:[Object(f.jsx)("img",{className:"cart_image",src:x,alt:"cart"}),Object(f.jsxs)("div",{className:"cart__total",children:["Total: ",t," $"]})]})}):null;return Object(f.jsxs)("header",{className:"home_container",id:"home",children:[Object(f.jsx)("div",{className:"left block",children:Object(f.jsxs)("div",{className:"moto",children:["YOUR ",Object(f.jsx)("span",{children:"PERSONALIZED"})," COFFEE"]})}),Object(f.jsx)("div",{className:"home-image"}),Object(f.jsxs)("div",{className:"right block",children:[n,Object(f.jsx)("div",{className:"navigation",children:c}),Object(f.jsx)("div",{className:"up",onClick:function(){return O()(document.querySelector("#home"))},children:" \u2191 "})]})]})}))),_=(c(60),c(61),function(e){var t=e.item,c=t.title,n=t.image,r=t.text;return Object(f.jsxs)("div",{className:"beverage-item_container",children:[Object(f.jsx)("div",{className:"beverage-item beverage-item_img",children:Object(f.jsx)("img",{src:n,alt:c})}),Object(f.jsx)("div",{className:"beverage-item beverage-item_title",children:c}),Object(f.jsx)("div",{className:"beverage-item beverage-item_text",children:r})]})}),E=(c(62),function(e){var t=e.small,c=e.big;e.id;return Object(f.jsxs)("div",{className:"heading",children:[Object(f.jsx)("div",{className:"heading_small",children:t}),Object(f.jsx)("div",{className:"heading_big",children:c})]})}),N=(c(63),function(){return Object(f.jsx)("div",{className:"loader",children:"Loading..."})}),y=(c(64),function(e){var t=e.text,c=void 0===t?"":t;return Object(f.jsx)("div",{className:"error",children:c})}),T=c(18),C=c.n(T),R=c(29),S="https://my-coffeeshop-rest.herokuapp.com",I=function(){var e=Object(R.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Cound not fetch ".concat(t,", status: ").concat(c.status));case 5:return e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(R.a)(C.a.mark((function e(t,c){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/").concat(c));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Cound not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(R.a)(C.a.mark((function e(t,c){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={firstname:c.firstname,tel:c.tel,items:c.items,number:c.number,total:c.total},e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Cound not fetch ".concat(t,", status: ").concat(r.status));case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),A={beveragesLoaded:function(e){return{type:"BEVERAGES_LOADED",payload:e}},beveragesRequested:function(){return{type:"BEVERAGES_REQUESTED"}},beveragesError:function(){return{type:"BEVERAGES_ERROR"}}},M=Object(v.b)((function(e){return{beverages:e.beverages}}),A)((function(e){var t=e.beverages,c=e.loading,r=e.error,a=e.beveragesError,s=e.beveragesLoaded,i=e.beveragesRequested;return Object(n.useEffect)((function(){var e=!0;return i(),e&&I("".concat(S,"/beverages")).then((function(e){e.length>0?s(e):a()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[i,a,s]),Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Your Personalized Coffee",big:"COFFEE BUILD YOUR BASE",id:"beverages"}),c?Object(f.jsx)(N,{}):r?Object(f.jsx)(y,{}):t?Object(f.jsx)("div",{className:"beverages_container",children:t.items.map((function(e){return Object(f.jsx)(_,{item:e},e.id)}))}):null]})})),L=c(12),w=(c(66),c(67),function(e){var t=e.item,c=e.addToCart,r=Object(n.useState)("addToCart"),a=Object(L.a)(r,2),s=a[0],i=a[1];Object(n.useEffect)((function(){var e=setTimeout((function(){return i("addToCart")}),2e3);return function(){return clearInterval(e)}}),[s]);var o=t.image,d=t.price,l=t.title,u=t.content,m=t.id;return Object(f.jsxs)("div",{className:"menu-item_container",children:[Object(f.jsx)("div",{className:"menu-item_img",children:Object(f.jsx)(j.b,{to:"".concat(b,"/menuItems/").concat(m),children:Object(f.jsx)("img",{src:o,alt:l})})}),Object(f.jsxs)("div",{className:"menu-item_price",children:[d," $"]}),Object(f.jsx)("div",{className:"menu-item_title",children:l}),Object(f.jsx)("div",{className:"menu-item_content",children:u}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"menu-item_btns",children:["addToCart"===s?Object(f.jsx)("button",{className:"menu-item_btn","data-id":m,onClick:function(e){c(),i("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"menu-item_msg-btn-box",children:[Object(f.jsx)("button",{className:"menu-item_btn_viewcart","data-id":m,children:Object(f.jsx)(j.b,{to:"".concat(b,"/cart"),children:"VIEW CART"})}),"addToCart"===s?null:Object(f.jsx)("div",{className:"menu-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"menu-item_details",children:Object(f.jsx)(j.b,{to:"".concat(b,"/menuItems/").concat(m),children:"Details"})}),Object(f.jsx)("br",{})]})]})}),F=function(e){return{type:"ADD_TO_CART",payload:e}},q={menuItemsLoaded:function(e){return{type:"MENU_ITEMS_LOADED",payload:e}},addToCart:F,menuItemsError:function(){return{type:"MENU_ITEMS_ERROR"}},menuItemsRequested:function(){return{type:"MENU_ITEMS_REQUESTED"}}},U=Object(v.b)((function(e){return{menuItems:e.menuItems}}),q)((function(e){var t=e.menuItems,c=e.menuItemsError,r=e.menuItemsLoaded,a=e.menuItemsRequested,s=e.addToCart,i=Object(n.useState)(!0),o=Object(L.a)(i,2),d=o[0],l=o[1];Object(n.useEffect)((function(){var e=!0;return a(),e&&I("".concat(S,"/menu-items")).then((function(e){e.length>0?r(e.slice(0,4)):c()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[a,c,r]);var u=t.items,j=t.loading,b=t.error;return Object(f.jsxs)("section",{className:"menu",children:[Object(f.jsx)(E,{small:"Choose Your Drink",big:"ORDER ONLINE AND SKIP THE LINE",id:"menu"}),j?Object(f.jsx)(N,{}):b?Object(f.jsx)(y,{text:"The database does not respond. Please try again later"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"menu_container",children:[Object(f.jsx)("div",{className:"bg-menu"}),u.map((function(e,t){return Object(f.jsx)(w,{item:e,addToCart:function(){return s(e)}},t)}))]}),d?Object(f.jsx)("div",{className:"menu_more",onClick:function(){I("".concat(S,"/menu-items")).then((function(e){e.length>0?r(e):c(),l(!1)})).catch((function(e){return console.error(e.message)}))},children:"VIEW MORE"}):null]})]})})),B=(c(68),c(69),function(e){var t=e.item,c=e.addToCart,r=t.title,a=t.image,s=t.price,i=t.content,o=t.id,d=Object(n.useState)("addToCart"),l=Object(L.a)(d,2),u=l[0],m=l[1];Object(n.useEffect)((function(){var e=setTimeout((function(){return m("addToCart")}),2e3);return function(){return clearInterval(e)}}),[u]);return Object(f.jsxs)("div",{className:"giftset_item",children:[Object(f.jsx)("div",{className:"giftset_img",children:Object(f.jsx)(j.b,{to:"".concat(b,"/giftset/").concat(o),children:Object(f.jsx)("img",{src:a,alt:r})})}),Object(f.jsxs)("div",{className:"giftset_content",children:[Object(f.jsxs)("div",{className:"giftset_price",children:[s," $"]}),Object(f.jsx)("div",{className:"giftset_title",children:r}),Object(f.jsx)("div",{className:"giftset_text",children:i}),"addToCart"===u?Object(f.jsx)("button",{className:"giftset_btn","data-id":o,onClick:function(e){c(),m("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"giftset-item_msg-btn-box",children:[Object(f.jsx)(j.b,{to:"".concat(b,"/cart"),className:"giftset_btn_viewcart","data-id":o,children:"VIEW CART"}),"addToCart"===u?null:Object(f.jsx)("div",{className:"giftset-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"giftset_details",children:Object(f.jsx)(j.b,{to:"".concat(b,"/giftset/").concat(o),children:"Details"})}),Object(f.jsx)("br",{})]})]})}),G={giftsetLoaded:function(e){return{type:"GIFTSET_LOADED",payload:e}},giftsetTabClick:function(e){return{type:"GIFTSET_TAB_CLICK",payload:e}},addToCart:F,giftsetError:function(){return{type:"GIFTSET_ERROR"}},giftsetRequested:function(){return{type:"GIFTSET_REQUESTED"}}},P=Object(v.b)((function(e){return{giftset:e.giftset}}),G)((function(e){var t=e.giftset,c=e.giftsetError,r=e.giftsetLoaded,a=e.giftsetRequested,s=e.addToCart,i=e.giftsetTabClick;Object(n.useEffect)((function(){var e=!0;return a(),e&&I("".concat(S,"/giftset")).then((function(e){e.length>0?r(e):c()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[a,r,c]);var o=t.items,d=t.loading,l=t.error,u=t.activeItemId;return Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Best Gift For Best Friend",big:"GIFTSET",id:"giftset"}),d?Object(f.jsx)(N,{}):l?Object(f.jsx)(y,{text:"The database does not respond. Please try again later"}):Object(f.jsxs)("div",{className:"giftset_container",children:[Object(f.jsx)("div",{className:"bg-giftset"}),o.map((function(e){return e.id===u?Object(f.jsx)(B,{item:e,addToCart:function(){return s(e)}},e.id):null})),Object(f.jsx)("div",{className:"giftset_tabs",children:o.map((function(e,t){return Object(f.jsx)("div",{className:u===e.id?"giftset_tabs_item active":"giftset_tabs_item",onClick:function(t){i(e.id)},children:t+1},e.id)}))})]})]})})),Q=(c(70),c(71),function(e){var t=e.item,c=e.addToCart,r=t.title,a=t.image,s=t.price,i=t.content,o=t.id,d=Object(n.useState)("addToCart"),l=Object(L.a)(d,2),u=l[0],m=l[1];Object(n.useEffect)((function(){var e=setTimeout((function(){return m("addToCart")}),2e3);return function(){return clearInterval(e)}}),[u]);return Object(f.jsxs)("div",{className:"combo-item_container",children:[Object(f.jsx)("div",{className:"combo-item_img",children:Object(f.jsx)(j.b,{to:"".concat(b,"/combos/").concat(o),children:Object(f.jsx)("img",{src:a,alt:r})})}),Object(f.jsx)("div",{className:"combo-item_title",children:r}),Object(f.jsxs)("div",{className:"combo-item_price",children:[s," $",Object(f.jsx)("span",{children:"6.00 $"})]}),Object(f.jsx)("div",{className:"combo-item_content",children:i}),"addToCart"===u?Object(f.jsx)("button",{className:"combo-item_btn","data-id":o,onClick:function(e){c(),m("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"combo-item_msg-btn-box",children:[Object(f.jsx)(j.b,{to:"".concat(b,"/cart"),className:"combo-item_btn_viewcart","data-id":o,children:"VIEW CART"}),"addToCart"===u?null:Object(f.jsx)("div",{className:"combo-item_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)("div",{className:"combo-item_details",children:Object(f.jsx)(j.b,{to:"".concat(b,"/combos/").concat(o),children:"Details"})}),Object(f.jsx)("br",{})]})}),Y={combosLoaded:function(e){return{type:"COMBOS_LOADED",payload:e}},combosError:function(){return{type:"COMBOS_ERROR"}},combosRequested:function(){return{type:"COMBOS_REQUESTED"}},addToCart:F},V=Object(v.b)((function(e){return{combos:e.combos}}),Y)((function(e){var t=e.combos,c=e.combosLoaded,r=e.combosRequested,a=e.combosError,s=e.addToCart;Object(n.useEffect)((function(){var e=!0;return r(),e&&I("".concat(S,"/combos")).then((function(e){e.length>0?c(e):a()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[a,c,r]);var i=t.items,o=t.loading,d=t.error;return Object(f.jsxs)("section",{children:[Object(f.jsx)(E,{small:"Our artesan pastry",big:"ORGANIC INGREDIENTS ONLY",id:"combo"}),o?Object(f.jsx)(N,{}):d?Object(f.jsx)(y,{text:"The database does not respond. Please try again later"}):Object(f.jsxs)("div",{className:"combo_container",children:[Object(f.jsx)("div",{className:"bg-combo"}),i.map((function(e){return Object(f.jsx)(Q,{item:e,addToCart:function(){return s(e)}},e.id)}))]})]})})),$=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(M,{}),Object(f.jsx)(U,{}),Object(f.jsx)(P,{}),Object(f.jsx)(V,{})]})},W=(c(72),function(){return Object(f.jsxs)("footer",{className:"footer_container",children:[Object(f.jsxs)("address",{children:[Object(f.jsx)("div",{className:"footer_title",children:"My coffeeshop"}),"Avda Europa, 15,",Object(f.jsx)("br",{}),"43400, Barcelona",Object(f.jsx)("br",{}),"SPAIN"]}),Object(f.jsxs)("div",{className:"footer_contact",children:[Object(f.jsx)("span",{children:"Contact us:"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"mailto:contact@mycoffeeshop.com",children:"contact@mycoffeeshop.com"}),Object(f.jsx)("br",{}),Object(f.jsx)("span",{children:"Tel:"})," +34 111 222 333"]}),Object(f.jsxs)("div",{className:"footer_social",children:[Object(f.jsx)("div",{className:"footer_social_title",children:"Find us on social media:"}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"footer_social_icons",children:[Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-facebook-square"})}),Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-linkedin-square"})}),Object(f.jsx)("a",{href:"https://github.com/ssmirnovacode/my-coffeeshop",target:"blank",children:Object(f.jsx)("i",{className:"fa fa-github-square"})})]})]})]})}),H=(c(73),{detailsLoaded:function(e){return{type:"DETAILS_LOADED",payload:e}},detailsError:function(){return{type:"DETAILS_ERROR"}},detailsRequested:function(){return{type:"DETAILS_REQUESTED"}},addToCart:F}),K=Object(v.b)((function(e){return{details:e.details}}),H)((function(e){var t=e.itemId,c=e.page,r=e.details,a=e.detailsError,s=e.detailsLoaded,i=e.detailsRequested,o=Object(n.useState)("addToCart"),d=Object(L.a)(o,2),l=d[0],u=d[1];Object(n.useEffect)((function(){var e=!0;return i(),e&&D("".concat(S,"/").concat(c),t).then((function(e){e?s(e):a()})).catch((function(e){return console.error(e.message)})),function(){return e=!1}}),[t,c,a,s,i]);return Object(n.useEffect)((function(){var e=setTimeout((function(){return u("addToCart")}),2e3);return function(){return clearInterval(e)}}),[l]),Object(f.jsx)("div",{className:"item-detail_container",children:r.loading?Object(f.jsx)(N,{}):r.error?Object(f.jsx)(y,{text:"Sorry, the beverage was not found"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"item-detail_img",children:Object(f.jsx)("img",{src:r.item.image,alt:r.item.title})}),Object(f.jsxs)("div",{className:"item-detail_content",children:[Object(f.jsx)("div",{className:"item-detail_title",children:r.item.title}),Object(f.jsxs)("div",{className:"item-detail_price",children:[r.item.price," $"]}),Object(f.jsx)("div",{className:"item-detail_text",children:r.item.content})]}),"addToCart"===l?Object(f.jsx)("button",{className:"item-detail_btn","data-id":t,onClick:function(t){e.addToCart(r.item),u("viewCart")},children:"ADD TO CART"}):Object(f.jsxs)("div",{className:"item-detail_msg-btn-box",children:[Object(f.jsx)(j.b,{to:"".concat(b,"/cart"),className:"item-detail_btn_viewcart","data-id":t,children:"VIEW CART"}),"addToCart"===l?null:Object(f.jsx)("div",{className:"item-detail_msg-btn-box_message",children:"Added to cart!"})]}),Object(f.jsx)(j.b,{to:"".concat(b,"/"),className:"item-detail_back",children:"Back"}),Object(f.jsx)("br",{})]})})})),J=(c(74),{deleteFromCart:function(e){return{type:"DELETE_FROM_CART",payload:e}},plusQty:function(e){return{type:"PLUS_QTY",payload:e}},minusQty:function(e){return{type:"MINUS_QTY",payload:e}}}),z=Object(v.b)((function(e){return{cart:e.cart}}),J)((function(e){var t=0;e.cart.forEach((function(e){t+=e.price*e.qty}));var c=0!==t?Object(f.jsx)(j.b,{className:"cart_btn",to:"".concat(b,"/order"),children:"ORDER ONLINE"}):null;return Object(f.jsxs)("div",{className:"cart_container",children:[Object(f.jsx)("div",{className:"cart_title",children:"Items in your cart:"}),Object(f.jsx)("div",{className:"cart_list",children:e.cart.map((function(t){return Object(f.jsxs)("div",{className:"cart_item",children:[Object(f.jsx)("div",{className:"cart_item_title",children:t.title}),Object(f.jsxs)("div",{className:"cart_item_price",children:["Price: ",t.price," $"]}),Object(f.jsx)("div",{onClick:function(){return e.deleteFromCart(t.id)},className:"cart_item_delete",children:Object(f.jsx)("i",{className:"fa fa-trash-o"})}),Object(f.jsx)("div",{className:"cart_item_img",children:Object(f.jsx)("img",{src:t.image,alt:t.title})}),Object(f.jsxs)("div",{className:"cart_item_qty",children:[Object(f.jsx)("div",{children:"Quantity: "}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"minus",onClick:function(){return e.minusQty(t.id)},children:"  -  "}),Object(f.jsx)("div",{className:"cart_item_qty_number",children:t.qty}),Object(f.jsx)("button",{className:"plus",onClick:function(){return e.plusQty(t.id)},children:" + "})]})]},t.id)}))}),Object(f.jsxs)("div",{className:"cart_total",children:["Total: ",t," $"]}),c,Object(f.jsx)("div",{className:"cart_continue",children:Object(f.jsx)(j.b,{to:"".concat(b,"/"),children:"Continue shopping"})})]})})),Z=(c(75),c(41)),X=function(e){var t={};return e.firstname.length>0&&!/^[A-Za-z]+$/gi.test(e.firstname)&&(t.firstname="Name can only contain letters"),e.tel.length>0&&!/([+]\d{1,2}[.-\s]?)?(\d{3}[.-]?){2}\d{3}/i.test(e.tel)&&(t.tel="Invalid phone number: must contain at least 9 digits"),t},ee={clearCart:function(){return{type:"CLEAR_CART"}},orderSubmitted:function(e){return{type:"ORDER_SUBMITTED",payload:e}},orderError:function(){return{type:"ORDER_ERROR"}}},te=Object(v.b)((function(e){return{cart:e.cart,order:e.order}}),ee)((function(e){var t=Object(n.useState)(!1),c=Object(L.a)(t,2),r=c[0],a=c[1],s=Object(Z.a)({initialValues:{firstname:"",tel:""},validate:X,onSubmit:function(t,c){var n=c.resetForm;e.cart.length>0?(t.items=e.cart.map((function(e){return{id:e.id,title:e.title,qty:e.qty,subtotal:e.price*e.qty}})),t.total=t.items.map((function(e){return e.subtotal})).reduce((function(e,t){return e+t})),t.number=Math.random().toString(36).substr(2,9),console.log(t),k(S+"/order",t).then((function(e){console.log("Order submitted")})).catch((function(e){return console.error(e.message)})),e.orderSubmitted(t),n(),e.clearCart(),e.history.push("".concat(b,"/thank-you"))):(a(!0),setTimeout((function(){return a(!1)}),1500))}});return Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(z,{}),Object(f.jsxs)("div",{className:"order_container",children:[Object(f.jsx)("div",{className:"order_title",children:"Please fill in your data"}),Object(f.jsxs)("form",{method:"POST",onSubmit:s.handleSubmit,children:[Object(f.jsxs)("div",{className:"order_form-field",children:[Object(f.jsxs)("label",{children:["Name:",Object(f.jsx)("input",{required:!0,type:"text",id:"firstname",name:"firstname",placeholder:"Your Name",onChange:s.handleChange,value:s.values.firstname})]}),s.errors.firstname?Object(f.jsx)("div",{className:"errMess",children:s.errors.firstname}):null]}),Object(f.jsxs)("div",{className:"order_form-field",children:[Object(f.jsxs)("label",{children:["Phone:",Object(f.jsx)("input",{required:!0,type:"text",id:"tel",name:"tel",placeholder:"Your phone number",onChange:s.handleChange,value:s.values.tel})]}),s.errors.tel?Object(f.jsx)("div",{className:"errMess",children:s.errors.tel}):null]}),Object(f.jsx)("p",{className:"order_instructions",children:"When your order is ready we will send you an SMS notification so you can pick up your order in our shop. No need to wait in the queue! Go straight to the register, pay for your order and pick it up."}),Object(f.jsx)("button",{className:"order_btn",type:"submit",children:"ORDER NOW"})]}),Object(f.jsx)("div",{className:"order_back",children:Object(f.jsx)(j.b,{to:"".concat(b,"/"),children:"Back to the store"})}),r?Object(f.jsx)("div",{className:"fail",children:"Cart is empty"}):null]})]})})),ce=(c(76),Object(v.b)((function(e){return{order:e.order}}))((function(e){var t=e.order.firstname,c=setTimeout((function(){e.history.push("".concat(b,"/")),clearInterval(c)}),1e4);return Object(f.jsxs)("div",{className:"thank-you_container",children:[Object(f.jsxs)("div",{className:"thank-you_title",children:["Thank you for your order, ",Object(f.jsx)("span",{children:t}),"!"]}),Object(f.jsxs)("p",{className:"thank-you_text",children:["Your order # ",Object(f.jsx)("span",{children:e.order.number})," has been submitted successfully. When it\xb4s ready to be picked up, we will notify you by SMS. Remember, you can skip the line and go straight to the register to pay and pick up your coffee."]}),Object(f.jsx)(j.b,{className:"thank-you_back",to:"".concat(b,"/"),children:"Back to the store"})]})}))),ne=(c(77),function(){return Object(f.jsx)(j.a,{children:Object(f.jsxs)("div",{className:"app_container",children:[Object(f.jsxs)("div",{className:"app_content",children:[Object(f.jsx)(p,{}),Object(f.jsx)(g.a,{path:"".concat(b,"/"),exact:!0,component:$}),Object(f.jsx)(g.a,{path:"".concat(b,"/cart"),component:z}),Object(f.jsx)(g.a,{path:"".concat(b,"/combos/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)(K,{page:"combos",itemId:t})}}),Object(f.jsx)(g.a,{path:"".concat(b,"/menuItems/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)(K,{page:"menu-items",itemId:t})}}),Object(f.jsx)(g.a,{path:"".concat(b,"/giftset/:id"),render:function(e){var t=e.match.params.id;return Object(f.jsx)(K,{page:"giftset",itemId:t})}}),Object(f.jsx)(g.a,{path:"".concat(b,"/order"),component:te}),Object(f.jsx)(g.a,{path:"".concat(b,"/thank-you"),component:ce})]}),Object(f.jsx)(W,{})]})})}),re=c(20),ae=c(3),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!0,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEVERAGES_LOADED":return{items:t.payload,loading:!1,error:!1};case"BEVERAGES_REQUESTED":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0,error:!1});case"BEVERAGES_ERROR":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:!0});default:return e}},ie=c(21),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var c=t.payload;if(c.qty=1,e.filter((function(e){return e.id===c.id}))[0]){var n=e.findIndex((function(e){return e.id===c.id})),r=e[n];r.qty++;var a=[].concat(Object(ie.a)(e.slice(0,n)),[r],Object(ie.a)(e.slice(n+1)));return a}var s=[].concat(Object(ie.a)(e),[c]);return s;case"PLUS_QTY":return e.map((function(e){return e.id===t.payload?Object(ae.a)(Object(ae.a)({},e),{},{qty:e.qty+1}):e}));case"MINUS_QTY":return e.map((function(e){return e.id===t.payload?Object(ae.a)(Object(ae.a)({},e),{},{qty:1!==e.qty?e.qty-1:1}):e}));case"DELETE_FROM_CART":var i=t.payload,o=e.findIndex((function(e){return e.id===i})),d=[].concat(Object(ie.a)(e.slice(0,o)),Object(ie.a)(e.slice(o+1)));return d;case"CLEAR_CART":return[];default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!0,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMBOS_LOADED":return{items:t.payload,loading:!1,error:!1};case"COMBOS_REQUESTED":return{items:t.payload,loading:!0,error:!1};case"COMBOS_ERROR":return{items:t.payload,loading:!1,error:!0};default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{item:null,loading:!0,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DETAILS_LOADED":return{item:t.payload,loading:!1,error:!1};case"DETAILS_REQUESTED":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0,error:!1});case"DETAILS_ERROR":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:!0});default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!0,error:!1,activeItemId:"tf27bh"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GIFTSET_LOADED":return Object(ae.a)(Object(ae.a)({},e),{},{items:t.payload,loading:!1,error:!1});case"GIFTSET_REQUESTED":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0,error:!1});case"GIFTSET_ERROR":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:!0});case"GIFTSET_TAB_CLICK":return Object(ae.a)(Object(ae.a)({},e),{},{activeItemId:t.payload});default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],loading:!0,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_ITEMS_LOADED":return{items:t.payload,loading:!1,error:!1};case"MENU_ITEMS_REQUESTED":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0,error:!1});case"MENU_ITEMS_ERROR":return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:!0});default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_SUBMITTED":return t.payload;default:return e}},me=Object(re.b)({beverages:se,cart:oe,combos:de,details:le,giftset:ue,menuItems:je,order:be}),Oe=Object(re.c)(me);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(v.a,{store:Oe,children:Object(f.jsx)(ne,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.3973ec5e.chunk.js.map